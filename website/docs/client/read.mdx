---
title: Read Data
description: Read data from database with rex client
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

## Query Builder

Create powerful query builder with `Query` method

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery := client.QueryUser()
```

for context support

```go
userQuery := client.QueryUserContext(ctx)
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
UserQuery userQuery = client.queryUser();
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
userQuery = client.queryUser();
```

  </TabItem>
</Tabs>

## Find

Find by primary key

`NotFoundError`

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
user, err := client.QueryUser().Find(1);
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
User user = client.queryUser().find(1);
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
user = client.queryUser().find(1);
```

  </TabItem>
</Tabs>

### Find By

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
user, err := client.QueryUser().FindBy(client.UserID.EQ(1));
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
User user = client.queryUser().findBy(client.UserID.EQ(1));
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
user = client.queryUser().findBy(client.UserID.EQ(1));
```

  </TabItem>
</Tabs>

### Find by SQL

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
users, err := client.QueryUser().FindBySQL("select * from users limit ?", 10)
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
List<User> users = client.queryUser().findBySQL("select * from users limit ?", 10)
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
users = client.queryUser().findBySQL("select * from users limit ?", 10);
```

  </TabItem>
</Tabs>

## Select

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery = userQuery.Select(client.UserID, client.UserEmail)
```

  </TabItem>
  <TabItem value="java" label="Java"></TabItem>
  <TabItem value="typescript" label="TypeScript"></TabItem>
</Tabs>

### Select Distinct

For query with `SELECT DISTINCT`

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery = userQuery.SelectDistinct(client.UserID, client.UserEmail)
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
userQuery = userQuery.selectDistinct(client.userID, client.userEmail);
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript"></TabItem>
</Tabs>

## Pluck

```go
emails, err := userQuery.Pluck(client.userEmail).AllString()
```

## Where

Rex generates query conditions based on colum types.

- `EQ` -
- `In` -

```go
userQuery = userQuery.Where(client.UserID.In([]int{1, 2, 3}))
```

Multiple arguments in `Where` will convert into sql `AND`,

```go
userQuery = userQuery.Where(
	client.UserName.EQ("test"),
	client.UserEmail.EQ("test@example.com"),
)
```

## Order

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery = userQuery.Order(client.UserCreatedAt.Desc(), client.UserID.Asc())
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
userQuery = userQuery.order(client.userCreatedAt.Desc(), client.UserID.Asc());
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
userQuery = userQuery.order(client.userCreatedAt.Desc(), client.UserID.Asc());
```

  </TabItem>
</Tabs>

## Limit and Offset

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery = userQuery.Limit(10).Offset(5)
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
userQuery = userQuery.limit(10).offset(5);
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
userQuery = userQuery.limit(10).offset(5);
```

  </TabItem>
</Tabs>

## Joins

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
// Inner join
userQuery.Joins(client.Post)
// SELECT users.* FROM users INNER JOIN posts ON posts.user_id = users.id

userQuery.RawJoins("INNER JOIN posts ON posts.user_id = users.id")

// Multiple joins
userQuery.Joins(client.Post, client.Account)


// Nested joins? posts -> comments
userQuery.Joins(client.Post, client.Comment)
```

  </TabItem>
  <TabItem value="java" label="Java"></TabItem>
  <TabItem value="typescript" label="TypeScript"></TabItem>
</Tabs>

## Group and Aggregation

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery.Group(client.UserName)
```

  </TabItem>
  <TabItem value="java" label="Java"></TabItem>
  <TabItem value="typescript" label="TypeScript"></TabItem>
</Tabs>

## Having

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery.Having(client.UserName.EQ())
```

  </TabItem>
  <TabItem value="java" label="Java"></TabItem>
  <TabItem value="typescript" label="TypeScript"></TabItem>
</Tabs>

## Query Associations

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
userQuery, err := userQuery.IncludePosts()
userQuery := userQuery.IncludePosts(func (q *postQuery) {
	return q.Limit(3) // first 3 posts for each user
})
```

  </TabItem>
  <TabItem value="java" label="Java"></TabItem>
  <TabItem value="typescript" label="TypeScript"></TabItem>
</Tabs>

## Query Methods

A query builder supports several methods based on query purposes.

### All

Return all records from query

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
users, err := userQuery.All()
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
List<User> users = userQuery.all();
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
users = userQuery.all();
```

  </TabItem>
</Tabs>

### First

Return the first record from query

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
users, err := userQuery.First()
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
User user = userQuery.first();
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
user = userQuery.first();
```

  </TabItem>
</Tabs>

### Exists

Return whether the query contains any result

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
exists, err := userQuery.Exists()
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
boolean exists = userQuery.exists();
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
exists := userQuery.exists();
```

  </TabItem>
</Tabs>

### Count

Return with `COUNT` query

<Tabs groupId="generator">
  <TabItem value="go" label="Go" default>

```go
total, err := userQuery.Count()
```

  </TabItem>
  <TabItem value="java" label="Java">

```java
int total = userQuery.count();
```

  </TabItem>
  <TabItem value="typescript" label="TypeScript">

```typescript
total = userQuery.count();
```

  </TabItem>
</Tabs>

## Query Batching
